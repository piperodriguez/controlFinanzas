<link rel="stylesheet" href="./css/bootstrap.min.css">
<div class="container">
    <div class="card text-center">
        <div class="card-body">
          <h1>Control Financiero</h1>
        </div>
    </div>
    <section class="example mt-4">
        <div class="table-responsive" id="tabladatos">
          <!-- Tabla HTML -->
        </div>
    </section>
</div>
<script type="text/javascript">
    debugger;
    fetch("http://localhost:3000/api/v1/redirect/home").then(response => {
        if(response.ok) {
            return response.json();
        }
    }).then(data => {
        if(data) {
            console.log(data); 

            const ar = data; 
              let result = `<table class='table table-striped table-bordered table-hover text-center'><thead class='table-dark'>
                            <tr>
                              <th>Deuda</th>
                              <th>Descripcion</th>
                              <th>Valor Deuda</th>
                              <th>Saldo Deuda</th>
                              <th>Acciones</th>
                            </tr>
                            </thead><tbody>`;
              ar.forEach((elem) => {
                  result += `<tr>
                      <td class=v-align-middle>${elem.nombre_deuda}</td>
                      <td class=v-align-middle>${elem.descripcion_deuda}</td>
                      <td class=v-align-middle>${elem.valor_deuda}</td>
                      <td class=v-align-middle>${elem.saldo_deuda}</td>
                      <td class=v-align-middle>

                        <form action="http://localhost:3000/api/v1/redirect/eliminar/${elem.id}" method="POST" onsubmit="return confirmarEliminar()">        

                          <a href="/detalle?id=${elem.id}" class="btn btn-dark">Detalles</a>

                          <a href="/actualizar?id=${elem.id}" class="btn btn-primary">Editar</a>

                          <button type="submit" class="btn btn-danger">Eliminar</button>

                        </form>  

                      </td>
                    </tr>`
                    

              });
              result += `</tbody></table>`;
              document.getElementById("tabladatos").innerHTML = result;
         };
        }
    ).catch(err => console.error(err));      
  </script>
  </body>